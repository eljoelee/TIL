# 220925 TIL
### 1. AWS Certified SAA 청강
* RDS Security
    * Encryption
        * 미사용 데이터
            * AES 256bit 암호화를 사용하는 AWS KMS로 마스터 DB와 읽기 전용 복제본을 암호화
            * 마스터 DB를 암호화하지 않으면 읽기 전용 복제본 또한 암호화 불가능
        * 전송 중 암호화
            * 데이터 전송 중에 DB 연결 시 신뢰할 수 있는 인증서(SSL)로 연결
        * RDS 백업 암호화
            * 암호화되지 않은 DB에서 스냅샷 생성 시 마찬가지로 암호화되지 않음
            * 암호화되지 않은 스냅샷 생성 후 해당 스냅샷을 복제하여 암호화 활성화 후 재생성
    * Network & IAM
        * Network
            * 배포 시, 프라이빗 서브넷에 배포
            * RDS 인스턴스에 연결된 보안그룹을 활용하여 트래픽 제어
        * IAM
            * 데이터 생성, 삭제, 읽기 전용 복제본 생성 등을 관리하는 정책 생성
            * DB 연결 시, RDS MySQL & PostgreSQL의 경우 IAM 기반 인증 사용 가능
                * RDS API 호출을 사용하여 IAM으로부터 인증 토큰을 받아 SSL 연결
                * 인증 토큰의 수명은 15분
* Aurora
    * MySQL, PostgreSQL 호환
    * 최소 10GB, 최대 128TB까지 자동으로 스토리지가 커짐
    * 15개의 읽기 전용 복제본 생성 가능(MySQL: 5개)
    * 장애 조치가 Multi AZ보다 빠르게 이루어진다(평균 30초)
    * RDS보다 비용이 20% 비쌈
    * 고가용성 및 읽기 스케일링
        * 쓰기 요청을 할 때 마다 6개의 데이터 복제본을 3개의 AZ에 저장
        * 데이터가 손상되었거나 잘못된 경우 peer to peer 복제를 통해 복구가 가능하다.
    * Endpoint
        * 마스터만이 유일하게 스토리지에 쓰기 작업을 할 수 있기 때문에 마스터를 가리키는 Writer Endpoint를 제공한다.
        * 읽기 전용 복제본에 오토 스케일링 설정 시, Reader Endpoint를 통해 읽기 전용 복제본의 로드밸런싱이 이루어진다.
    * Severless
        * 자동으로 용량을 확장, 축소하기 때문에 용량을 관리할 필요가 없음
        * 인스턴스가 활성 상태일 때 사용하는 용량을 초당 요금으로 지불한다.
        * 클라이언트는 DB 서버에 연결되는 것이 아닌 Proxy Layer에 있는 서버와 연결을 유지한다(Proxy fleet)
        * 드물거나, 간헐적이거나 예측할 수 없는 워크로드에 유용
    * Multi Master
        * Writer 노드에 대한 높은 가용성을 원하는 경우에 사용
        * 클러스터에 있는 모든 노드가 읽기/쓰기 작업을 진행
        * Writer 노드 다운 시, 읽기 복제본을 새로운 마스터로 승격
    * Global Aurora
        * 모든 읽기/쓰기가 발생하는 하나의 기본 리전 외에 최대 5개의 보조 읽기 전용 리전을 설정할 수 있다.
        * 리전 당 최대 16개의 읽기 전용 복제본을 가질 수 있다.
        * 전세계 지역에서 실행되는 애플리케이션은 가까운 리전의 읽기 전용 복제본에서 읽기를 수행하기 때문에 짧은 지연시간을 제공한다.
        * 기본 리전에서 성능 저하 또는 가동 중지가 발생한 경우 보조 리전 중 하나를 승격하는 재해 복구 목적으로도 활용할 수 있다.
* ElastiCache
    * In-Memory Database
    * 데이터베이스 쿼리를 캐싱하여 읽기 집약적인 워크로드의 부하를 줄일 수 있다.
    * 애플리케이션의 상태(세션 등)를 캐싱하여 Stateless로 유지할 수 있다
        * Stateless : 애플리케이션의 상태를 서버에 저장하지 않는 방식
    * Redis & Memcached
        * Redis : 고가용성, 백업, 읽기 전용 복제본 등 RDS와 유사함
        * Memcached : 단순한 분산 캐시, 저가용성, 백업 및 복원 기능 없음